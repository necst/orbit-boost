# Accelerating Solf-Driving Satellite for Deep Space

## Info & Description
This project will focus on profiling the application, designing an accelerator for the most compute intensive part to pave the way of novel generation of deep space satellites.  

|| Information |
|----------------------|-----|
| **Team number**          | AOHW-342 |
| **Project name**         | Accelerating Self-Driving Satellite for Deep Space |
| **YouTube's video**      | https://youtu.be/EagT6V492NI |
| **Project's repository** | https://github.com/necst/guido-fpga |
| **University name**      | Politecnico di Milano |
| **Participant (email**)  | Marco Laurenzi (marco.laurenzi@mail.polimi.it) |
| **Participant (email**)  | Alessandro Aldo Marina (alessandroaldo.marina@mail.polimi.it) |
| **Supervisor name**      | Davide Conficconi |
| **Supervisor email**     | davide.conficconi@polimi.it |
| **Board used**           | Kria KD240 Drives Starter Kit |
| **Software version**     | 2024.1 |

## Description of archive
The archive is structured as follows:
```    
├─ hardware/           # Host application
|  └─ native/          # C host code
|  └─ python/          # python host code + testbench
└─ IP/                 # everything needed to generate the .bit and .hwh files
|  └─ Vitis HLS/       # C++ code to generate the package
|  └─ Vivado/Package/  # Package to generate .bit and .hwh files
```
 
## Instructions to build and test project

### Step 1 - Clone the repository
Open a terminal, then clone the repository by running the following command
```shell
git clone https://github.com/necst/guido-fpga.git
```
Then, move into the repository with 
```shell
cd guido-fpga
```

### Step 2 - Generate the .bit and .hwh files
Open Vitis HLS 2024.1 and use the code in the /IP/Vitis HLS/ to generate the package by running the **Package**.

The same output file generated by the **Package** run is already available in the /IP/Vivado/ folder

Then open VIvado 2024.1, import the IP code present in the previously generated Package and generate the `.bit` and `.hwh` files by running the **Generate Bitstream**.

The bitstream files generated are already available in the /hardware/python/bitstream/ folder

### Step 3 - Connect to the Kria KD240
#### Preliminary work
Carefully connect the Kria KD240 and proceed with the setup following this link:
https://www.amd.com/en/products/system-on-modules/kria/k24/kd240-drives-starter-kit/getting-started/getting-started.html

Install Pynq on the Board:
https://github.com/Xilinx/PYNQ

#### Connection to Pynq
While you are in the same network of the Board, search on a browser:
<Kria_IP>:9090
A Jupiter Notebook should appear.
Now you are ready to upload all the files, be sure to follow the same folder arrangment provided below:
```    
├─ bitstream/                            # Upload here the .bit and .hwh files named as doublerate.<bit | hwh>    
├─ Host.ipynb                            # A notebook that acts as the Python host, managing communication and control for the FPGA
├─ execution_time_plotter.ipynb          # A Python notebook designed to plot and compare the execution times of software (non- accelerated) versus hardware (accelerated) implementations
├─ demo_hardware_division.ipynb          # A Python notebook that demonstrates the division function running on the Kria KD240 FPGA
└─ ldl_dsolve_hardware.py                #  A Python function that runs on the hardware, ready to be called for accelerated computation
```
To test the bitstream execute the Host.ipynb file entirely

